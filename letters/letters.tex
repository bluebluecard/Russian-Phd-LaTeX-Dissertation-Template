\input luaotfload.sty

\pagewidth=229mm
\pageheight=162mm
\newdimen\leftOffset \leftOffset=2cm
\newdimen\topOffset \topOffset=2cm
\newdimen\rightOffset \rightOffset=2cm
\newdimen\bottomOffset \bottomOffset=2cm
\hoffset=\dimexpr (-1in + \leftOffset) \relax
\voffset=\dimexpr (-1in + \topOffset) \relax
\hsize=\dimexpr (\pagewidth - \leftOffset - \rightOffset) \relax
\vsize=\dimexpr (\pageheight - \topOffset - \bottomOffset) \relax
\parindent=0pt
\parskip=14pt
\baselineskip=1.5\baselineskip
\nopagenumbers
\tolerance=9999

\font\myfont={LiberationSerif-Regular.ttf} at 14pt
\font\myfontit={LiberationSerif-Italic.ttf} at 14pt
\font\postindex={PostIndex.ttf} at 45pt
\myfont
\overfullrule=0pt

\def\setfallback#1#2{
\expandafter\ifcsname#1\endcsname%
\relax%
\else%
\expandafter\def\csname#1\endcsname{#2}%
\fi%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Dannye otpravitelya
\setfallback{fromwhom}{Uchenogo sekretarya}
\setfallback{frominstitution}{dissertatsionnogo soveta MGU}
\setfallback{fromcity}{g.~Moskva}
\setfallback{fromaddress}{Leninskie gory, d.~1}
\setfallback{fromindex}{119991}

% Dannye poluchatelya po-umolchaniyu
\setfallback{toindex}{119019}
\setfallback{toinstitution}{ITAR-TASS}
\setfallback{towhom}{Uchenomu sekretaryu}
\setfallback{tocity}{g.~Moskva}
\setfallback{toaddress}{Kremlevskaya~nab., d.~1/9, str.~8}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\raggedright

% Otkommentiruyte, chtoby narisovat ramku vokrug na granitse stranitsy
% \input tikz.tex
% \tikz[remember picture,overlay]{\draw (0,0) -- ++(\hsize,0) -- ++(0,-\vsize)-- ++(-\hsize,0) -- ++(0,\vsize);}


\hsize=\dimexpr (\pagewidth / 2 - \leftOffset - \rightOffset) \relax

{\myfontit Ot kogo:}
\ifx\fromwhom\empty\else\fromwhom\break\fi
\frominstitution\par
{\myfontit Otkuda:}
\fromaddress\break
\fromcity\break
\fromindex

\vfill

{
        \leftskip \dimexpr (\pagewidth / 2 - \leftOffset) \relax
        \hsize=\dimexpr (\pagewidth - \leftOffset - \rightOffset) \relax
        {\myfontit Komu:}
        \ifx\towhom\empty\else\towhom\break\fi
        \toinstitution \par
        {\myfontit Kuda:}
        \toaddress \break
        \tocity \break
        \toindex \par
}

\postindex
\$\toindex

\eject

\end
